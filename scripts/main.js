!function e(t,n,s){function i(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,s)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)i(s[o]);return i}({1:[function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=e("./Controller"),c=i(u),d=e("../model/GameModel"),f=i(d),h=e("../utils/Countdown"),p=i(h),m=e("../utils/Wordslider"),v=i(m),w=e("../utils/Utils"),y=s(w),g=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));e.words=[],e.userWords=[],e.points=0,e.settings={level:null,seconds:null},e.secondsElapsed=0,e.startTime=null,e.settingsPane=document.querySelectorAll(".app__settings"),e.gamePane=document.querySelectorAll(".app__game"),e.resultPane=document.querySelectorAll(".app__results"),e.currentPane=e.settingsPane,e.levelSelector=document.querySelectorAll(".js-select-level"),e.timeSelector=document.querySelectorAll(".js-select-time"),e.wordsContainer=document.querySelectorAll(".js-words"),e.startBtn=document.querySelectorAll(".js-start-game"),e.settingsBtn=document.querySelectorAll(".js-show-settings"),e.wordInput=document.querySelectorAll(".js-word-input"),e.settingsBtn[0].addEventListener("click",e.showSettings.bind(e)),e.wordInput[0].addEventListener("keydown",e.submitWord.bind(e),!1),e.wordInput[0].addEventListener("keyup",e.clearEmptyInput.bind(e),!1);for(var n=0;n<e.startBtn.length;n++)e.startBtn[n].addEventListener("click",e.startNewGame.bind(e));return e}return a(t,e),l(t,[{key:"clearGame",value:function(){this.words=[],this.userWords=[],this.points=0,this.settings={level:null,seconds:null},this.secondsElapsed=0,this.startTime=null}},{key:"showSettings",value:function(){var e=this;this.togglePane(this.resultPane[0],this.settingsPane[0]).then(function(){e.currentPane=e.settingsPane})}},{key:"startNewGame",value:function(){this.clearGame(),this.settings={level:parseInt(this.levelSelector[0].options[this.levelSelector[0].selectedIndex].value),seconds:parseInt(this.timeSelector[0].options[this.timeSelector[0].selectedIndex].value)},this.newGame=new f["default"]({level:this.settings.level,seconds:this.settings.seconds}),this.setupGame()}},{key:"setupGame",value:function(){var e=this,t=void 0;t=this.currentPane==this.settingsPane?this.settingsPane[0]:this.resultPane[0],this.getWordsAndPopulate(this.newGame.level).then(function(){y.animateOut(t).then(function(){e.gamePane[0].style.display="block",e.gamePane[0].style.opacity="0",e.wordSlider=document.querySelectorAll(".word-slider"),e.slider=new v["default"](e.wordSlider),e.buildCountdown(e.newGame.seconds),e.countdown.pause(),e.wordInput[0].value="",y.animateIn(e.gamePane[0]).then(function(){e.gamePane[0].style.opacity="1",e.wordInput[0].focus(),e.countdown.startCounter(e.countDownElem[0]).then(function(){e.showResults()}),e.currentPane=e.gamePane,e.startTime=new Date})})})}},{key:"getWordsAndPopulate",value:function(e){var t=this,n="";return new Promise(function(s,i){f["default"].getWords(e).then(function(e){t.words=e,t.words.map(function(e,t){var s=void 0;0===t&&(s="is-active"),n=n+'<div id="word-'+t+('" class="'+s+'"><div class="word-slider__word">')+e+"</div></div>"}),t.wordsContainer[0].innerHTML=n,s()})})}},{key:"buildCountdown",value:function(e){var t=this;this.countDownElem=document.querySelectorAll(".js-countdown");var n=new Date;n.setSeconds(n.getSeconds()+parseInt(e)),this.countdown&&this.countdown.destroy(this.countDownElem[0]),this.countdown=new p["default"](this.countDownElem[0],n),this.countdown.startCounter(n).then(function(){t.showResults()})}},{key:"clearEmptyInput",value:function(e){if(32==e.keyCode){var t=this.wordInput[0].value;" "===t&&(this.wordInput[0].value="")}}},{key:"submitWord",value:function(e){if(13==e.keyCode||32==e.keyCode){var t=this.wordInput[0].value;if(""==t||" "==t);else if(t.length>0){this.userWords.push(t.trim()),this.wordInput[0].value="";var n=this.userWords.length-1,s=document.getElementById("word-"+n);this.userWords.length<this.words.length?(this.userWords[n].toUpperCase()===this.words[n].toUpperCase()?s.classList.add("is-correct"):s.classList.add("is-incorrect"),this.nextWord()):(this.userWords[n].toUpperCase()===this.words[n].toUpperCase()?s.classList.add("is-correct"):s.classList.add("is-incorrect"),this.showResults())}}}},{key:"getPoints",value:function(){var e=this;return new Promise(function(t,n){e.userWords.forEach(function(t,n){t.toUpperCase()===e.words[n].toUpperCase()&&e.points++}),t(e.points)})}},{key:"showResults",value:function(){var e=this;y.animateOut(this.gamePane[0]).then(function(){y.animateIn(e.resultPane[0]).then(function(){})});var t=new Date;this.timeElapsed=t.getSeconds()-this.startTime.getSeconds(),this.countdown.destroy(this.countDownElem[0]);var n=document.querySelectorAll(".js-error-word-list"),s=document.querySelectorAll(".js-error-word-text"),i=document.querySelectorAll(".js-user-points"),r=document.querySelectorAll(".js-user-entries"),o="";this.userWords.map(function(t,n){t.toUpperCase()!=e.words[n].toUpperCase()&&(o=o+'\n          <div>\n            <span class="is-incorrect">'+t+'</span>\n            <span><img src="images/arrow.svg" alt="arrow"/></span>\n            <span>'+e.words[n]+"</span>\n          </div>")}),""!=o?s[0].classList.remove("hide"):s[0].classList.add("hide"),n[0].innerHTML=o,this.getPoints().then(function(t){i[0].innerHTML=t,r[0].innerHTML=e.userWords.length}),this.buildStars()}},{key:"togglePane",value:function(e,t){return new Promise(function(n,s){y.animateOut(e).then(function(){y.animateIn(t).then(function(){n()})})})}},{key:"nextWord",value:function(){this.slider.slideNext()}},{key:"buildStars",value:function(){var e=document.querySelectorAll(".js-stars"),t='<svg width="39px" height="37px" viewBox="0 0 39 37" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch -->\n        <title>Shape Copy 2</title>\n        <desc>Created with Sketch.</desc>\n        <defs></defs>\n        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="Resultat" transform="translate(-752.000000, -361.000000)" fill="#F5F5F5">\n                <g id="ic_star_border_black_24px" transform="translate(653.000000, 361.000000)">\n                    <g id="Group">\n                        <polygon id="Shape-Copy-2" points="138 14.0325843 124.064326 12.8308989 118.617978 0 113.171629 12.8502809 99.2359551 14.0325843 109.818539 23.2002809 106.639888 36.8258427 118.617978 29.5963483 130.596067 36.8258427 127.436798 23.2002809"></polygon>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </svg>',n=t+t+t;e[0].innerHTML=n,e[0].classList.remove("stars--1"),e[0].classList.remove("stars--2"),e[0].classList.remove("stars--3"),this.points>this.timeElapsed&&this.points===this.userWords.length?e[0].classList.add("stars--3"):this.points<this.userWords.length/2?e[0].classList.add("stars--1"):this.points<=this.userWords.length&&e[0].classList.add("stars--2")}}]),t}(c["default"]);n["default"]=g},{"../model/GameModel":4,"../utils/Countdown":6,"../utils/Utils":7,"../utils/Wordslider":8,"./Controller":2}],2:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function r(){s(this,r)};n["default"]=i},{}],3:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var i=e("./controller/AppController"),r=s(i);new r["default"]},{"./controller/AppController":1}],4:[function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=e("./Model"),c=i(u),d=e("../utils/Utils"),f=s(d),h=function(e){function t(e,n){r(this,t);var s=o(this,Object.getPrototypeOf(t).call(this,n)),i={level:1,seconds:180,score:null,date:new Date};return i=f.extend(i,e),s.level=i.level,s.seconds=i.seconds,s.score=i.score,s.date=i.date,s}return a(t,e),l(t,null,[{key:"getWords",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=[],n=[];return new Promise(function(s,i){switch(e){case 1:n=["halvtreds","stadse","ridse","meget","lystig","hurtigt","adresse","fortov","hoved","linje","satellit","hvorimod","træg","stage","stige","nøjagtig","bue","bage","hjort","hvilken","vånde"],t=f.shuffle(n);break;case 2:n=["træg","stage","stige","nøjagtig","bue","bage","hjort","hvilken","vånde"],t=f.shuffle(n);break;case 3:n=["WOK","moum","tosse","råke","meaf","miaw","træcis","meakrome","tjuten","abelone","moumsons","most"],t=f.shuffle(n);break;case 4:n=["것","하다","있다","수","하다","나","없다","않다","사람","우리","그","아니다"],t=f.shuffle(n)}s(t)})}}]),t}(c["default"]);n["default"]=h},{"../utils/Utils":7,"./Model":5}],5:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function r(){s(this,r)};n["default"]=i},{}],6:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=function(){function e(t,n){s(this,e),this.total=0,this.days=0,this.hours=0,this.minuts=0,this.seconds=0,this.counterId=null,this.elem=t,this.endTime=n}return i(e,[{key:"getTimeRemaining",value:function(){var e=Date.parse(this.endTime)-Date.parse(new Date),t=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60),s=Math.floor(e/36e5%24),i=Math.floor(e/864e5);this.total=e,this.days=i,this.hours=s,this.minutes=n,this.seconds=t}},{key:"startCounter",value:function(e){var t=this;return this.getTimeRemaining(e),this.elem.innerHTML="\n      <span>"+this.minutes+"</span>\n      <span>:</span>\n      <span>"+this.seconds+"</span>",new Promise(function(e,n){t.counterId=setInterval(function(){"0"==t.total?(t.destroy(),e("countdown done")):(t.getTimeRemaining(t.endTime),t.elem.innerHTML="\n            <span>"+t.minutes+"</span>\n            <span>:</span>\n            <span>"+t.seconds+"</span>")},1e3)})}},{key:"pause",value:function(){clearInterval(this.counterId)}},{key:"unPause",value:function(){this.startCounter(this.endTime)}},{key:"destroy",value:function(e){clearInterval(this.counterId),this.total=0,this.days=0,this.hours=0,this.minuts=0,this.seconds=0}}]),e}();n["default"]=r},{}],7:[function(e,t,n){"use strict";function s(e,t){var n=e;for(var s in t)t.hasOwnProperty(s)&&void 0!==t[s]&&(n[s]=t[s]);return n}function i(e){return new Promise(function(t,n){function s(){e.classList.remove("animate-enter"),e.removeEventListener("animationend",s,!1),t()}e.style.display="block",e.classList.add("animate-enter"),e.addEventListener("animationend",s,!1)})}function r(e){return new Promise(function(t,n){function s(){e.classList.remove("animate-leave"),e.style.display="none",e.removeEventListener("animationend",s,!1),t()}e.classList.add("animate-leave"),e.addEventListener("animationend",s,!1)})}function o(e,t,n,s){s="undefined"==typeof s?0:s;var i="-webkit-transform: translate3d("+e+"px, "+t+"px, "+n+"px); -webkit-transition: "+s+"ms;-moz-transform: translate3d("+e+"px, "+t+"px, "+n+"px); -moz-transition: "+s+"ms;-ms-transform: translate3d("+e+"px, "+t+"px, "+n+"px); -ms-transition: "+s+"ms;-o-transform: translate("+e+"px, "+t+"px); -o-transition: "+s+"ms;transform: translate3d("+e+"px, "+t+"px, "+n+"px); transition: "+s+"ms;";return i}function a(e){var t,n,s;for(s=e.length;s;s-=1)t=Math.floor(Math.random()*s),n=e[s-1],e[s-1]=e[t],e[t]=n;return e}Object.defineProperty(n,"__esModule",{value:!0}),n.extend=s,n.animateIn=i,n.animateOut=r,n.translate3d=o,n.shuffle=a},{}],8:[function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=e("./Utils"),a=s(o),l=function(){function e(t){i(this,e),this.slideContainer=t[0].children[0],this.currentPosition=0,this.currentSlide=0,this.containerPosition=this.slideContainer.offsetLeft,this.positions=[],this.slides=this.slideContainer.children,this.activeSlidePadding=null,this.nextSlide=1,this.nextSlideItem=this.slides[this.nextSlide],this.nextSlideItemWidth=this.nextSlideItem.offsetWidth,this.nextSlideOffset=this.nextSlideItem.offsetLeft-this.containerPosition;var n=this.slides[0].offsetWidth-15;this.slideContainer.setAttribute("style",a.translate3d(-(n/2),0,0,0)),this.slides[0].classList.add("is-active");for(var s=0;s<this.slides.length;s++){var r=this.slides[s].offsetLeft-this.containerPosition+this.slides[s].offsetWidth/2;this.positions.push(r)}}return r(e,[{key:"slideNext",value:function(){this.nextSlide=this.currentSlide+1,this.nextSlideItem=this.slides[this.nextSlide],this.currentSlide=this.nextSlide;var e=-this.positions[this.nextSlide],t=document.querySelectorAll(".is-active");t[0]&&t[0].classList.remove("is-active"),this.nextSlideItem.classList.add("is-active"),this.slideContainer.setAttribute("style",a.translate3d(e,0,0,200))}}]),e}();n["default"]=l},{"./Utils":7}]},{},[3]);