(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();class p{}class w{constructor(){}}function g(n,e){var s=n;for(var t in e)e.hasOwnProperty(t)&&e[t]!==void 0&&(s[t]=e[t]);return s}function h(n){return new Promise((e,s)=>{function t(){n.classList.remove("animate-enter"),n.removeEventListener("animationend",t,!1),e()}n.style.display="block",n.classList.add("animate-enter"),n.addEventListener("animationend",t,!1)})}function c(n){return new Promise((e,s)=>{function t(){n.classList.remove("animate-leave"),n.style.display="none",n.removeEventListener("animationend",t,!1),e()}n.classList.add("animate-leave"),n.addEventListener("animationend",t,!1)})}function u(n,e,s,t){t=typeof t>"u"?0:t;var i="-webkit-transform: translate3d("+n+"px, "+e+"px, "+s+"px); -webkit-transition: "+t+"ms;-moz-transform: translate3d("+n+"px, "+e+"px, "+s+"px); -moz-transition: "+t+"ms;-ms-transform: translate3d("+n+"px, "+e+"px, "+s+"px); -ms-transition: "+t+"ms;-o-transform: translate("+n+"px, "+e+"px); -o-transition: "+t+"ms;transform: translate3d("+n+"px, "+e+"px, "+s+"px); transition: "+t+"ms;";return i}function d(n){var e,s,t;for(t=n.length;t;t-=1)e=Math.floor(Math.random()*t),s=n[t-1],n[t-1]=n[e],n[e]=s;return n}class m extends w{constructor(e,s){super(s);let t={level:1,seconds:180,score:null,date:new Date};t=g(t,e),this.level=t.level,this.seconds=t.seconds,this.score=t.score,this.date=t.date}static getWords(e=1){let s=[],t=[];return new Promise((i,r)=>{switch(e){case 1:t=["halvtreds","stadse","ridse","meget","lystig","hurtigt","adresse","fortov","hoved","linje","satellit","hvorimod","træg","stage","stige","nøjagtig","bue","bage","hjort","hvilken","vånde"],s=d(t);break;case 2:t=["træg","stage","stige","nøjagtig","bue","bage","hjort","hvilken","vånde"],s=d(t);break;case 3:t=["WOK","moum","tosse","råke","meaf","miaw","træcis","meakrome","tjuten","abelone","moumsons","most"],s=d(t);break;case 4:t=["하다","있다","수","하다","나","없다","않다","사람","우리","그","아니다","보다","거","보다","같다","주다","대하다","가다","년","한","말","일","이","말하다","위하다","그러나","오다","알다","씨","그렇다","크다","일","사회","많다","안","좋다","더","받다","그것","집","나오다","그리고","문제","그런","살다","저","못하다","생각하다","모르다","속","만들다","데","앞","경우","중","어떤","잘","그녀","먹다","자신","문화","원","생각","어떻다","명","통하다","그러다","그러다","소리","다시","다른","이런","여자","개","정도","다","좀","싶다","보이다","가지다","함께","아이","지나다","많이","시간","너","인간","사실","나다","이렇다","어머니","눈","뭐","점","의하다","시대","다음","이러하다","누구","곳","여러","안","하나","세계","버리다","위","운동","퍼센트","학교","자기","가장","대통령","가지","시작하다","바로","어느","그래서","무엇","정부","모든","번","그거","돈","국가","그런데","날","여기","모두","여성","친구","마음","후","놓다","관계","아버지","남자","어디","몸","얼굴","왜","나타나다","지역","다르다","모습","물","만나다","내다","보이다","쓰다","이것","없이","이번","길","생활","쓰다","뿐","사이","방법","새롭다","내다","앉다","처음","손","몇","그때","과정","삶","갖다","찾다","특히","시","이상","지금","나가다","이야기","교육","사다","경제","아직","잡다","같이","선생님","예술","서다","못","역사","읽다","결과","내용","물론","책","일어나다","당신","시장","넣다","중요하다","무슨","느끼다","어렵다","힘","너무","나라","부르다","의미","자리","밝히다","죽다","이미","쪽","정치","국민","생명","얘기","학생","연구","엄마","이름","하나","내리다","사건","및","쉽다","짓다","이유","필요하다","글","생기다","사용하다","남편","밖","세상","작다","타다","대학","작품","상황","가운데"],s=d(t);break}i(s)})}}class f{constructor(e,s){this.total=0,this.days=0,this.hours=0,this.minuts=0,this.seconds=0,this.counterId=null,this.elem=e,this.endTime=s}getTimeRemaining(){const e=Date.parse(this.endTime)-Date.parse(new Date),s=Math.floor(e/1e3%60),t=Math.floor(e/1e3/60%60),i=Math.floor(e/(1e3*60*60)%24),r=Math.floor(e/(1e3*60*60*24));this.total=e,this.days=r,this.hours=i,this.minutes=t,this.seconds=s}startCounter(e){return this.getTimeRemaining(e),this.elem.innerHTML=`
      <span>`+this.minutes+`</span>
      <span>:</span>
      <span>`+this.seconds+"</span>",new Promise((s,t)=>{this.counterId=setInterval(()=>{this.total=="0"?(this.destroy(),s("countdown done")):(this.getTimeRemaining(this.endTime),this.elem.innerHTML=`
            <span>`+this.minutes+`</span>
            <span>:</span>
            <span>`+this.seconds+"</span>")},1e3)})}pause(){clearInterval(this.counterId)}unPause(){this.startCounter(this.endTime)}destroy(e){clearInterval(this.counterId),this.total=0,this.days=0,this.hours=0,this.minuts=0,this.seconds=0}}class v{constructor(e){this.slideContainer=e[0].children[0],this.currentPosition=0,this.currentSlide=0,this.containerPosition=this.slideContainer.offsetLeft,this.positions=[],this.slides=this.slideContainer.children,this.activeSlidePadding=null,this.nextSlide=1,this.nextSlideItem=this.slides[this.nextSlide],this.nextSlideItemWidth=this.nextSlideItem.offsetWidth,this.nextSlideOffset=this.nextSlideItem.offsetLeft-this.containerPosition;const s=this.slides[0].offsetWidth-15;this.slideContainer.setAttribute("style",u(-(s/2),0,0,0)),this.slides[0].classList.add("is-active");const t=this.slideContainer.getBoundingClientRect();for(let i=0;i<this.slides.length;i++){const r=this.slides[i].getBoundingClientRect().x-t.x+this.slides[i].offsetWidth/2;this.positions.push(r)}}slideNext(){this.nextSlide=this.currentSlide+1,this.nextSlideItem=this.slides[this.nextSlide],this.currentSlide=this.nextSlide;let e=-this.positions[this.nextSlide],s=document.querySelectorAll(".is-active");s[0]&&s[0].classList.remove("is-active"),this.nextSlideItem.classList.add("is-active"),this.slideContainer.setAttribute("style",u(e,0,0,200))}}class S extends p{constructor(){super(),this.words=[],this.userWords=[],this.points=0,this.settings={level:null,seconds:null},this.secondsElapsed=0,this.startTime=null,this.settingsPane=document.querySelectorAll(".app__settings"),this.gamePane=document.querySelectorAll(".app__game"),this.resultPane=document.querySelectorAll(".app__results"),this.currentPane=this.settingsPane,this.levelSelector=document.querySelectorAll(".js-select-level"),this.timeSelector=document.querySelectorAll(".js-select-time"),this.wordsContainer=document.querySelectorAll(".js-words"),this.startBtn=document.querySelectorAll(".js-start-game"),this.settingsBtn=document.querySelectorAll(".js-show-settings"),this.wordInput=document.querySelectorAll(".js-word-input"),this.settingsBtn[0].addEventListener("click",this.showSettings.bind(this)),this.wordInput[0].addEventListener("keydown",this.submitWord.bind(this),!1),this.wordInput[0].addEventListener("keyup",this.clearEmptyInput.bind(this),!1),this.successSound=document.getElementById("successSound");for(let e=0;e<this.startBtn.length;e++)this.startBtn[e].addEventListener("click",this.startNewGame.bind(this))}clearGame(){this.words=[],this.userWords=[],this.points=0,this.settings={level:null,seconds:null},this.secondsElapsed=0,this.startTime=null}showSettings(){this.togglePane(this.resultPane[0],this.settingsPane[0]).then(()=>{this.currentPane=this.settingsPane})}startNewGame(){this.clearGame(),this.settings={level:parseInt(this.levelSelector[0].options[this.levelSelector[0].selectedIndex].value),seconds:parseInt(this.timeSelector[0].options[this.timeSelector[0].selectedIndex].value)},this.newGame=new m({level:this.settings.level,seconds:this.settings.seconds}),this.setupGame()}setupGame(){let e;this.currentPane==this.settingsPane?e=this.settingsPane[0]:e=this.resultPane[0],this.getWordsAndPopulate(this.newGame.level).then(()=>{c(e).then(()=>{this.gamePane[0].style.display="block",this.gamePane[0].style.opacity="0",this.wordSlider=document.querySelectorAll(".word-slider"),this.slider=new v(this.wordSlider),this.buildCountdown(this.newGame.seconds),this.countdown.pause(),this.wordInput[0].value="",h(this.gamePane[0]).then(()=>{this.gamePane[0].style.opacity="1",this.wordInput[0].focus(),this.countdown.startCounter(this.countDownElem[0]).then(()=>{this.showResults()}),this.currentPane=this.gamePane,this.startTime=new Date})})})}getWordsAndPopulate(e){let s="";return new Promise((t,i)=>{m.getWords(e).then(r=>{this.words=r,this.words.map((o,l)=>{let a;l===0&&(a="is-active"),s=s+'<div id="word-'+l+`" class="${a}"><div class="word-slider__word">`+o+"</div></div>"}),this.wordsContainer[0].innerHTML=s,t()})})}buildCountdown(e){this.countDownElem=document.querySelectorAll(".js-countdown");let s=new Date;s.setSeconds(s.getSeconds()+parseInt(e)),this.countdown&&this.countdown.destroy(this.countDownElem[0]),this.countdown=new f(this.countDownElem[0],s),this.countdown.startCounter(s).then(()=>{this.showResults()})}clearEmptyInput(e){e.keyCode==32&&this.wordInput[0].value===" "&&(this.wordInput[0].value="")}submitWord(e){if(e.keyCode==13||e.keyCode==32){let s=this.wordInput[0].value;if(!(s==""||s==" ")){if(s.length>0){this.userWords.push(s.trim()),this.wordInput[0].value="";const t=this.userWords.length-1,i=document.getElementById("word-"+t);this.userWords.length<this.words.length?(this.userWords[t].toUpperCase()===this.words[t].toUpperCase()?(i.classList.add("is-correct"),this.successSound.play()):i.classList.add("is-incorrect"),this.nextWord()):(this.userWords[t].toUpperCase()===this.words[t].toUpperCase()?i.classList.add("is-correct"):i.classList.add("is-incorrect"),this.showResults())}}}}getPoints(){return new Promise((e,s)=>{this.userWords.forEach((t,i)=>{t.toUpperCase()===this.words[i].toUpperCase()&&this.points++}),e(this.points)})}showResults(){c(this.gamePane[0]).then(()=>{h(this.resultPane[0]).then(()=>{})});const e=new Date;this.timeElapsed=e.getSeconds()-this.startTime.getSeconds(),this.countdown.destroy(this.countDownElem[0]);const s=document.querySelectorAll(".js-error-word-list"),t=document.querySelectorAll(".js-error-word-text"),i=document.querySelectorAll(".js-user-points"),r=document.querySelectorAll(".js-user-entries");let o="";this.userWords.map((l,a)=>{l.toUpperCase()!=this.words[a].toUpperCase()&&(o=o+`
          <div>
            <span class="is-incorrect">`+l+`</span>
            <span><img src="images/arrow.svg" alt="arrow"/></span>
            <span>`+this.words[a]+`</span>
          </div>`)}),o!=""?t[0].classList.remove("hide"):t[0].classList.add("hide"),s[0].innerHTML=o,this.getPoints().then(l=>{i[0].innerHTML=l,r[0].innerHTML=this.userWords.length}),this.buildStars()}togglePane(e,s){return new Promise((t,i)=>{c(e).then(()=>{h(s).then(()=>{t()})})})}nextWord(){this.slider.slideNext()}buildStars(){const e=document.querySelectorAll(".js-stars"),s=`<svg width="39px" height="37px" viewBox="0 0 39 37" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch -->
        <title>Shape Copy 2</title>
        <desc>Created with Sketch.</desc>
        <defs></defs>
        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Resultat" transform="translate(-752.000000, -361.000000)" fill="#F5F5F5">
                <g id="ic_star_border_black_24px" transform="translate(653.000000, 361.000000)">
                    <g id="Group">
                        <polygon id="Shape-Copy-2" points="138 14.0325843 124.064326 12.8308989 118.617978 0 113.171629 12.8502809 99.2359551 14.0325843 109.818539 23.2002809 106.639888 36.8258427 118.617978 29.5963483 130.596067 36.8258427 127.436798 23.2002809"></polygon>
                    </g>
                </g>
            </g>
        </g>
    </svg>`,t=s+s+s;e[0].innerHTML=t,e[0].classList.remove("stars--1"),e[0].classList.remove("stars--2"),e[0].classList.remove("stars--3"),this.points>this.timeElapsed&&this.points===this.userWords.length?e[0].classList.add("stars--3"):this.points<this.userWords.length/2?e[0].classList.add("stars--1"):this.points<=this.userWords.length&&e[0].classList.add("stars--2")}}new S;
